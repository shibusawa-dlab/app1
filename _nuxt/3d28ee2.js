(window.webpackJsonp=window.webpackJsonp||[]).push([[43,19],{531:function(e,t,n){"use strict";(function(e){n(18),n(53),n(30),n(42),n(20),n(284),n(59),n(16),n(24),n(532),n(67),n(74),n(203),n(44),n(533),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(71);var r=n(35),o=(n(50),n(9)),l=n(21),c=n(27),f=n(31),h=n(26),v=n(22),d=n(7),y=n(154),m=n(602),k=n(563);function x(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(v.a)(e);if(t){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var O=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},j=function(t){Object(f.a)(y,t);var h,v,d=w(y);function y(){var t;return Object(l.a)(this,y),(t=d.apply(this,arguments)).loading=!1,t.searchAgg="",t.isHelp=!0,t.tabs=null,t.aggs=e.env.aggs,t.q="",t.mdiMagnify=m.b,t.mdiClose=m.a,t.results={},t.data={},t.type="freq",t.selected=[],t.headers=[{text:"キーワード",value:"label"},{text:"キーワードの総出現頻度（Term Frequency）",value:"freq"},{text:"アイテムの総出現頻度（Document Frequency）",value:"df"},{text:"",value:"link"}],t.items=[],t.index=[],t.indexDf=[],t.headersAggs=[{text:t.$t("name"),value:"label"},{text:t.$t("results"),value:"value"}],t.tabValue=null,t.title="Ngram Viewer",t}return Object(c.a)(y,[{key:"option",get:function(){var e={beginAtZero:!0};return"freq"===this.type&&(e={beginAtZero:!0,callback:function(e){if(e%1==0)return e}}),{maintainAspectRatio:!1,elements:{line:{tension:0}},scales:{Axes:[{type:"time",time:{unit:"year"}}],yAxes:[{id:"y-axis-1",position:"left",scaleLabel:{display:!0,labelString:"freq"===this.type?"キーワードの出現頻度":"キーワードの出現比率"},ticks:e},{id:"y-axis-2",position:"right",scaleLabel:{display:!0,labelString:"総ngram数"},ticks:{beginAtZero:!0,callback:function(e){if(e%1==0)return e}}}]}}}},{key:"trigger",value:function(e){13===e.keyCode&&this.search()}},{key:"asyncData",value:(v=Object(o.a)(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(6258).then(n.t.bind(null,683,3));case 2:return t=e.sent,r=t.default,e.abrupt("return",{ngramAll:r});case 5:case"end":return e.stop()}}),e)}))),function(){return v.apply(this,arguments)})},{key:"mounted",value:(h=Object(o.a)(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(6261).then(n.t.bind(null,684,3));case 2:t=e.sent,r=t.default,this.index=r.tf,this.indexDf=r.df,this.$route.query.keyword&&(this.q=String(this.$route.query.keyword),this.exec());case 7:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"watchRoute",value:function(e,t){var n=e.query.keyword;n!==t.query.keyword&&(this.q=String(n),this.exec())}},{key:"watchType",value:function(){var e=JSON.parse(JSON.stringify(this.$route.query));e.type=this.type,this.$router.push(this.localePath({name:"ngram",query:e})),this.watchSelected()}},{key:"search",value:function(){this.$router.push(this.localePath({name:"ngram",query:{keyword:this.q}}),(function(){}),(function(){}))}},{key:"exec",value:function(){this.$route.query.sort="count:desc";var data=this.ngram();this.results=data;var e,t=[],n=[],r=x(data.hits.hits);try{for(r.s();!(e=r.n()).done;){var o=e.value,l={label:o._source.label,freq:o._source.count,df:o._source.countDf};t.push(l),t.length<5&&n.push(l)}}catch(e){r.e(e)}finally{r.f()}this.items=t,this.selected=n}},{key:"watchSelected",value:function(){var e=["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#000000","#800000","#008000","#000080","#808000","#800080","#008080","#808080","#C00000","#00C000","#0000C0","#C0C000","#C000C0","#00C0C0","#C0C0C0","#400000","#004000","#000040","#404000","#400040","#004040","#404040","#200000","#002000","#000020","#202000","#200020","#002020","#202020","#600000","#006000","#000060","#606000","#600060","#006060","#606060","#A00000","#00A000","#0000A0","#A0A000","#A000A0","#00A0A0","#A0A0A0","#E00000","#00E000","#0000E0","#E0E000","#E000E0","#00E0E0","#E0E0E0"],data=this.results,t=2022,n=1,r=this.ngramAll,o=[];if(data.hits){var l,c=[],f=x(this.selected);try{for(f.s();!(l=f.n()).done;){var h=l.value;c.push(h.label)}}catch(e){f.e(e)}finally{f.f()}var v,d=this.results.hits.hits,y=[],m=x(d);try{for(m.s();!(v=m.n()).done;){var k=v.value;c.includes(k._source.label)&&y.push(k)}}catch(e){m.e(e)}finally{m.f()}d=y;for(var i=0;i<d.length;i++){var _=d[i],w=_._source.freq;w.sort((function(a,b){return a.year>b.year?1:-1}));var O,j={},C=x(w);try{for(C.s();!(O=C.n()).done;){var A=O.value,R=A.year;if(9999!==Number(R)){R<t&&(t=R),R>n&&(n=R);var S=A.count;j[R]=S}}}catch(e){C.e(e)}finally{C.f()}var F={label:_._source.label,fill:!1,borderColor:e[i],data:j};o.push(F)}for(var E=[],$=t;$<=n;$++)E.push($);for(var P=0;P<d.length;P++){for(var V=o[P].data,D=[],T=t;T<=n;T++){var L=T,H=0;V[L]&&(H=V[L],"ratio"===this.type&&(H/=r[L])),D.push({x:String(L),y:H})}o[P].data=D}for(var N=[],B=[],I=t;I<=n;I++){var J=String(I);N.push(J),null!=r[J]?B.push(r[J]):B.push(0)}var W={label:"総ngram",data:B,pointBackgroundColor:"transparent",borderColor:"transparent",backgroundColor:"rgba(255, 165, 0, 0.5)",yAxisID:"y-axis-2"};o.push(W),this.data={labels:N,datasets:o}}}},{key:"containsSymbol",value:function(e){return!!/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/.test(e)}},{key:"ngram",value:function(){var e,t=this,n=this.index,o=this.indexDf,l=this.$route.query.keyword.split("/"),c=[],f=x(l);try{var h=function(){var o=e.value,l=[];l=t.containsSymbol(o)?Object.keys(n).filter((function(e){return e.match(o)})):Object.keys(n).filter((function(e){return e===o})),c=Object(r.a)(new Set([].concat(Object(r.a)(c),Object(r.a)(l))))};for(f.s();!(e=f.n()).done;)h()}catch(e){f.e(e)}finally{f.f()}for(var v=[],d={},y=0,m=c;y<m.length;y++){var k=m[y];d[k]=n[k]._source.count}var _=Object.keys(d).map((function(e){return{key:e,value:d[e]}}));_.sort((function(a,b){return a.value<b.value?1:a.value>b.value?-1:0}));var w,O=x(_);try{for(O.s();!(w=O.n()).done;){var j=w.value,C=n[j.key];C._source.countDf=o[C._source.label]._source.count,v.push(C)}}catch(e){O.e(e)}finally{O.f()}return{hits:{total:{value:v.length},hits:v}}}},{key:"label",get:function(){return"abc"}},{key:"bh",get:function(){return[{text:this.$t("top"),disabled:!1,to:this.localePath({name:"index"}),exact:!0},{text:this.title}]}},{key:"getQuery",value:function(e){var t={};return t["fc-"+this.$route.params.slug]=e,t}},{key:"head",value:function(){return{title:this.title}}}]),y}(y.Vue);O([Object(y.Watch)("$route")],j.prototype,"watchRoute",null),O([Object(y.Watch)("type")],j.prototype,"watchType",null),O([Object(y.Watch)("selected")],j.prototype,"watchSelected",null),j=O([Object(y.Component)({components:{LineChart:k.default}})],j),t.a=j}).call(this,n(205))},563:function(e,t,n){"use strict";n.r(t);n(284);var r=n(21),o=n(27),l=n(31),c=n(26),f=n(22),h=n(7),v=n(154);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var y=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},m=n(593).a.Line,k=function(e){Object(l.a)(n,e);var t=d(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"watchTmp",value:function(){this.main()}},{key:"mounted",value:function(){this.main()}},{key:"main",value:function(){var e=this.data,t=this.option;t||(t={maintainAspectRatio:!1,elements:{line:{tension:0}},scales:{xAxes:[{type:"time",time:{unit:"year"}}],yAxes:[{ticks:{beginAtZero:!0,callback:function(e){if(e%1==0)return e}}}]}}),this.renderChart(e,t)}}]),n}(Object(v.mixins)(m));y([Object(v.Prop)()],k.prototype,"data",void 0),y([Object(v.Prop)()],k.prototype,"option",void 0),y([Object(v.Watch)("data",{deep:!0})],k.prototype,"watchTmp",null);var x=k=y([v.Component],k),_=n(86),component=Object(_.a)(x,undefined,undefined,!1,null,null,null);t.default=component.exports},6919:function(e,t,n){"use strict";n.r(t);var r=n(531).a,o=n(86),l=n(119),c=n.n(l),f=n(484),h=n(463),v=n(6896),d=n(6880),y=n(6881),m=n(485),k=n(47),x=n(502),_=n(6882),w=n(6874),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-container",{staticClass:"my-5 mb-10"},[n("h1",{staticClass:"mb-5"},[e._v(e._s(e.title))]),e._v(" "),n("v-row",{staticClass:"mb-5"},[n("v-col",{attrs:{cols:"12",md:"10"}},[n("v-text-field",{attrs:{autocomplete:"off",light:"","single-line":"",filled:"",rounded:"",dense:"","hide-details":"",clearable2:!0,"clear-icon":e.mdiClose,"background-color":"#E0E0E0",placeholder:e.$t("inputSearchKeyword"),"append-icon":e.mdiMagnify},on:{"click:append":e.search,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.trigger(t)}},model:{value:e.q,callback:function(t){e.q=t},expression:"q"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12",md:"2"}},[n("v-switch",{staticClass:"mt-1",attrs:{dense:"","hide-details":"",inset:"",label:"ヘルプ"},model:{value:e.isHelp,callback:function(t){e.isHelp=t},expression:"isHelp"}})],1)],1),e._v(" "),n("v-sheet",{directives:[{name:"show",rawName:"v-show",value:e.isHelp,expression:"isHelp"}],staticClass:"pa-5 mb-5",attrs:{color:"grey lighten-3"}},[n("p",[e._v("\n        年代ごとの出現頻度を可視化します。"),e._v(" "),n("br"),e._v("可視化グラフの縦軸は、年代ごとに何回出現したかを表す出現頻度と、出現頻度を出版年代ごとの総ngram数で割った値を表す出現比率の2種類を切り替えることができます。\n        "),n("br")]),e._v(" "),n("ul",[n("li",{staticClass:"mb-2"},[e._v("\n          複数のキーワードをスラッシュ(/)区切りでクエリに指定することで、出現頻度を重ねて表示することができます。\n          "),n("div",[e._v("\n            例：「"),n("nuxt-link",{attrs:{to:e.localePath({name:"ngram",query:{keyword:"第一銀行/日本銀行"}})}},[e._v("第一銀行/日本銀行")]),e._v("」\n          ")],1)]),e._v(" "),n("li",{staticClass:"mb-2"},[e._v("\n          正規表現を利用したクエリが可能です。\n          "),n("div",[e._v("\n            例：「"),n("nuxt-link",{attrs:{to:e.localePath({name:"ngram",query:{keyword:"浅野..郎"}})}},[e._v("浅野..郎")]),e._v("」\n          ")],1)])]),e._v(" "),e._e(),e._v(" "),n("div",[e._v("\n        【注意】処理の特性により、総出現頻度が5程度以下のものについては集計漏れが発生することがあります。\n      ")])]),e._v(" "),e.results.hits?n("div",[n("p",[e._v("\n        "+e._s(e.results.hits.total.value.toLocaleString())+" 件ヒットしました。\n      ")])]):e._e(),e._v(" "),e.results.hits&&e.results.hits.hits.length>0?n("div",{attrs:{id:"result"}},[n("v-radio-group",{attrs:{row:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[n("v-radio",{attrs:{label:"出現頻度",value:"freq"}}),e._v(" "),n("v-radio",{attrs:{label:"出現比率（年ごとの出現頻度/年ごとの総対象Ngram数）",value:"ratio"}})],1),e._v(" "),n("LineChart",{staticClass:"mb-10",attrs:{data:e.data,option:e.option}}),e._v(" "),n("v-data-table",{attrs:{"sort-by":["freq"],"sort-desc":[!0],headers:e.headers,items:e.items,"item-key":"label","items-per-page":20,"show-select":""},scopedSlots:e._u([{key:"item.link",fn:function(t){var r=t.item;return[n("nuxt-link",{attrs:{to:e.localePath({name:"search",query:{"main[query]":r.label}})}},[e._v("検索")])]}}],null,!1,1793110576),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),e._v(" "),e._e()],1):e._e()],1)],1)}),[],!1,null,null,null);t.default=component.exports;c()(component,{LineChart:n(563).default}),c()(component,{VCol:f.a,VContainer:h.a,VDataTable:v.a,VRadio:d.a,VRadioGroup:y.a,VRow:m.a,VSheet:k.a,VSimpleTable:x.a,VSwitch:_.a,VTextField:w.a})}}]);