(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{463:function(t,e,n){"use strict";n(283);var r=n(21),o=n(31),l=n(26),c=n(22),v=n(7),d=n(154);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(c.a)(t);if(e){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var h=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},f=function(t){Object(o.a)(n,t);var e=m(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return n}(d.Vue);h([Object(d.Prop)({required:!0})],f.prototype,"items",void 0);var y=f=h([d.Component],f),_=n(86),w=n(119),x=n.n(w),k=n(475),O=n(461),V=n(184),$=n(47),component=Object(_.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-sheet",{attrs:{color:"grey lighten-2"}},[n("v-container",{staticClass:"py-2 px-0 mx-0",attrs:{fluid:""}},[n("v-breadcrumbs",{staticClass:"py-0",attrs:{items:t.items},scopedSlots:t._u([{key:"divider",fn:function(){return[n("v-icon",[t._v("mdi-chevron-right")])]},proxy:!0}])})],1)],1)}),[],!1,null,null,null);e.a=component.exports;x()(component,{VBreadcrumbs:k.a,VContainer:O.a,VIcon:V.a,VSheet:$.a})},6907:function(t,e,n){"use strict";n.r(e);n(18),n(30),n(61),n(87),n(20),n(59),n(24),n(43),n(49),n(44),n(51),n(50);var r=n(9),o=n(103),l=n.n(o);function c(t,e){return t=Number(t),(Array(e).join("0")+t).slice(-e)}function v(data){return data.includes("day")?"grey darken-1":"cyan"}function d(dt){return dt.getFullYear()+"-"+("00"+(dt.getMonth()+1)).slice(-2)+"-"+("00"+dt.getDate()).slice(-2)}var m={components:{Breadcrumbs:n(463).a},asyncData:function(t){var e="1914-01-02",n="custom-daily",r=t.app.context;if(r.params.year){var o=r.params;e=o.year+"-"+c(o.month,2)+"-"+c(o.day,2),"year"!==o.type&&(n=o.type)}var l=e.split("-");return{value:e,type:n,query:l[0]+"-"+l[1]}},data:function(){return{baseUrl:"https://shibusawa-dlab.github.io/app1",initFlag:!0,mainFlag:!0,typeToLabel:{month:"Month",week:"Week",day:"Day","4day":"4 Days","custom-daily":"Year"},selectedEvent:{},selectedElement:null,selectedOpen:!1,events:[]}},computed:{url:function(){return this.baseUrl+this.$route.path},lang:function(){return this.$i18n.locale},title:function(){var t="1914-01-02",e=this.$route;if(e.params.year){var n=e.params;t=n.year+"-"+c(n.month,2)+"-"+c(n.day,2)}var r=t.split("-"),o=r[0],l=Number(r[1]),v=Number(r[2]);return"ja"===this.lang?this.$utils.wareki(o+"-"+l+"-"+v).split("月")[0]+"月":["Jan.","Feb.","Mar.","Apr.","May","Jun.","Jul.","Aug.","Sep.","Oct.","Nov.","Dec."][l-1]+" "+o},bh:function(){return[{text:this.$t("top"),disabled:!1,to:this.localePath({name:"index"}),exact:!0},{text:this.$t("calendar"),disabled:!1,to:this.localePath({name:"calendar"}),exact:!0},{text:this.title}]}},created:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,m,h,f,i,y,time,_,w,x,k,O,V,$,j,D,C,E,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("https://shibusawa-dlab.github.io/app1/data/docs.json");case 2:for(m in n=(n=e.sent).data,r=t.query,o=t.type,c={hits:[]},n)(h=n[m]).yearAndMonth===r&&c.hits.push(h);for(f=[],i=0;i<c.hits.length;i++)if(y=c.hits[i],"month"!==o&&Object.keys(y.time).length>0)for(time in y.time)_=y.time[time],w="".concat(y.temporal," ").concat(time),(x=Number(time.split(":")[0]))>=0&&x<4?(k=new Date(w),O=new Date(k.getTime()+864e5),w=d(O)+" "+time):x>=24&&(V=new Date("".concat(y.temporal," 00:00:00")),$=new Date(V.getTime()+864e5),j=time.split(":"),D=("00"+(x-24)).slice(-2)+":"+j[1]+":"+j[2],w=d($)+" "+D),C={name:_.replace(/<[^>]*>?/gm,""),start:w,end:w,color:v(y.type),id:y.objectID,xml:_},f.push(C);else E=new Date("".concat(y.temporal,"T00:00:00")),R={name:y.label,start:E,end:E,color:v(y.type),id:y.objectID,xml:y.xml},f.push(R);t.events=f;case 11:case"end":return e.stop()}}),e)})))()},methods:{viewDay:function(t){var e=t.date;this.value=e,this.type="day"},prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},showEvent:function(t){var e=this,n=t.nativeEvent,r=t.event,o=function(){e.selectedEvent=r,e.selectedElement=n.target,setTimeout((function(){return e.selectedOpen=!0}),10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(o,10)):o(),n.stopPropagation()},updateRange:function(){var t=this.type;if("custom-daily"===this.type&&(t="year"),!this.initFlag)if(this.mainFlag=!1,"year"===t)this.$router.push(this.localePath({name:"calendar"}));else{var e=this.value.split("-");this.$router.replace(this.localePath({name:"calendar-type-year-month-day",params:{type:t,year:e[0],month:Number(e[1]),day:Number(e[2])}}))}this.initFlag=!1}},head:function(){var title=this.$t("calendar")+" "+this.title;return{title:title,meta:[{hid:"og:title",property:"og:title",content:title},{hid:"og:type",property:"og:type",content:"article"},{hid:"og:url",property:"og:url",content:this.url},{hid:"twitter:card",name:"twitter:card",content:"summary_large_image"}]}}},h=n(86),f=n(119),y=n.n(f),_=n(205),w=n(6886),x=n(470),k=n(464),O=n(477),V=n(461),$=n(184),j=n(185),D=n(114),C=n(82),E=n(446),R=n(478),T=n(47),P=n(459),F=n(48),M=n(213),component=Object(h.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Breadcrumbs",{attrs:{items:t.bh}}),t._v(" "),n("v-container",{staticClass:"my-5"},[t._e(),t._v(" "),n("p",[t._v("\n      『渋沢栄一伝記資料』別巻第1, 第2の日付と時間情報を活用し,\n      カレンダー形式で可視化しています。日記は水色、集会日時通知表は灰色で表示されます。\n    ")]),t._v(" "),n("v-row",{directives:[{name:"show",rawName:"v-show",value:t.mainFlag,expression:"mainFlag"}],staticClass:"fill-height"},[n("v-col",[n("v-sheet",{attrs:{height:"64"}},[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:t.prev}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-left")])],1),t._v(" "),n("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:t.next}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-right")])],1),t._v(" "),n("v-toolbar-title",{staticClass:"ml-4"},[t._v("\n              "+t._s(t.title)+"\n            ")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-menu",{attrs:{bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({attrs:{outlined:"",color:"grey darken-2"}},"v-btn",o,!1),r),[n("span",[t._v(t._s(t.$t(t.typeToLabel[t.type])))]),t._v(" "),n("v-icon",{attrs:{right:""}},[t._v("mdi-menu-down")])],1)]}}])},[t._v(" "),n("v-list",[n("v-list-item",{on:{click:function(e){t.type="day"}}},[n("v-list-item-title",[t._v(t._s(t.$t("Day")))])],1),t._v(" "),n("v-list-item",{on:{click:function(e){t.type="week"}}},[n("v-list-item-title",[t._v(t._s(t.$t("Week")))])],1),t._v(" "),n("v-list-item",{on:{click:function(e){t.type="month"}}},[n("v-list-item-title",[t._v(t._s(t.$t("Month")))])],1),t._v(" "),n("v-list-item",{on:{click:function(e){t.type="custom-daily"}}},[n("v-list-item-title",[t._v(t._s(t.$t("Year")))])],1),t._v(" "),n("v-list-item",{on:{click:function(e){t.type="4day"}}},[n("v-list-item-title",[t._v(t._s(t.$t("4 Days")))])],1)],1)],1)],1)],1),t._v(" "),n("v-sheet",{attrs:{height:"600"}},[n("client-only",[n("v-calendar",{ref:"calendar",attrs:{color:"primary",events:t.events,type:t.type,locale:t.lang},on:{"click:more":t.viewDay,"click:date":t.viewDay,"click:event":t.showEvent,change:t.updateRange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),n("v-menu",{attrs:{"close-on-content-click":!1,activator:t.selectedElement,"offset-x":""},model:{value:t.selectedOpen,callback:function(e){t.selectedOpen=e},expression:"selectedOpen"}},[n("v-card",{attrs:{color:"grey lighten-4","min-width":"350px",flat:""}},[n("v-toolbar",{attrs:{color:t.selectedEvent.color,dark:""}},[n("v-toolbar-title",[t._v(t._s(t.selectedEvent.name))])],1),t._v(" "),n("v-card-text",[n("span",{domProps:{innerHTML:t._s(t.$utils.xml2html(t.selectedEvent.xml,!0))}})]),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"primary",to:t.localePath({name:"item-id",params:{id:t.selectedEvent.id}})}},[t._v("\n                  "+t._s(t.$t("本文表示"))+"\n                ")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(e){t.selectedOpen=!1}}},[t._v("\n                  "+t._s(t.$t("Cancel"))+"\n                ")])],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;y()(component,{VBtn:_.a,VCalendar:w.a,VCard:x.a,VCardActions:k.a,VCardText:k.b,VCol:O.a,VContainer:V.a,VIcon:$.a,VList:j.a,VListItem:D.a,VListItemTitle:C.b,VMenu:E.a,VRow:R.a,VSheet:T.a,VSpacer:P.a,VToolbar:F.a,VToolbarTitle:M.a})}}]);